!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.stringPattern=t():e.stringPattern=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21);Object.defineProperty(t,"conformToPattern",{enumerable:!0,get:function(){return r(o)["default"]}});var u=n(19);Object.defineProperty(t,"adjustCursorPosition",{enumerable:!0,get:function(){return r(u)["default"]}})},function(e,t,n){var r=n(44)("wks"),o=n(47),u=n(7).Symbol;e.exports=function(e){return r[e]||(r[e]=u&&u[e]||(u||o)("Symbol."+e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return e.replace(/1/g,d.placeholderCharacter)}function u(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e.substring(0,t)+e.substring(t+n)}function i(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return e.length===t.length?d.operationTypes.replacement:e.length>t.length?d.operationTypes.addition:e.length<t.length?d.operationTypes.deletion:null}function a(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return e.split("").reduce(function(e,t){return-1===d.maskingCharacters.indexOf(t)&&-1===e.indexOf(t)&&e.push(t),e},[])}function s(e,t){return(0,l["default"])({length:t},function(){return e}).join("")}function c(e){return e.reduce(function(e,t){var n=t.content,r=void 0===n?"":n,o=t.length,u=t.delimiter,i=o-r.length,a=s(d.placeholderCharacter,i);return e+=r+a+(u||"")},"")}var f=n(25),l=r(f);Object.defineProperty(t,"__esModule",{value:!0}),t.convertPatternToPlaceholder=o,t.removeCharactersStartingAtIndex=u,t.getOperationType=i,t.getDelimiters=a,t.printPadding=s,t.constructConformedString=c;var d=n(4)},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operationTypes={replacement:"replacement",addition:"addition",deletion:"deletion"},t.maskingCharacters=["1","A","#"],t.placeholderCharacter="_"},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(7),o=n(5),u=n(11),i="prototype",a=function(e,t,n){var s,c,f,l=e&a.F,d=e&a.G,p=e&a.S,h=e&a.P,g=e&a.B,v=e&a.W,m=d?o:o[t]||(o[t]={}),y=d?r:p?r[t]:(r[t]||{})[i];d&&(n=t);for(s in n)c=!l&&y&&s in y,c&&s in m||(f=c?y[s]:n[s],m[s]=d&&"function"!=typeof y[s]?n[s]:g&&c?u(f,r):v&&y[s]==f?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[i]=e[i],t}(f):h&&"function"==typeof f?u(Function.call,f):f,h&&((m[i]||(m[i]={}))[s]=f))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,e.exports=a},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(3),o=n(15);e.exports=n(33)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports={}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(30);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(3).setDesc,o=n(14),u=n(1)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,u)&&r(e,u,{configurable:!0,value:t})}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(12);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?"":arguments[3];if(e===t)return n;var o=i["default"].diffChars(e,t),u=0,c=0,f="",l=-1,d=null;if(o.forEach(function(e){f+=e.value,e.added===!0&&(u+=e.count,d=e.value===s.placeholderCharacter,l=-1===l?f.length-1:l),e.removed===!0&&(c+=e.count,l=-1===l?f.length-1:l)}),l-n>1)return n;if(u>1||c>1)return n;var p=(0,a.convertPatternToPlaceholder)(r);if(d!==!0&&void 0!==p[l+1]&&p[l+1]!==s.placeholderCharacter){for(var h=l+2;h<p.length;h++)if(p[h]===s.placeholderCharacter)return h;return n}if(d===!0&&void 0!==p[l-1]&&p[l-1]!==s.placeholderCharacter){for(var h=l-2;h>0;h--)if(p[h]===s.placeholderCharacter)return h+1;return n}return d?l:l+1}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(52),i=r(u),a=n(2),s=n(4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=0,r="";return e.map(function(e){var o=e.content,u=e.length;if(0===u)return(0,i["default"])({},e,{content:o});var a=t&&t[n]?r+t[n]:r,c=(0,s["default"])(a,u),f=c.remainder,l=c.results;return r=f,n++,(0,i["default"])({},e,{content:l})})}var u=n(27),i=r(u);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=(n(2),n(24)),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=(0,a["default"])(t),r=(0,c["default"])(e,t),o=(0,l["default"])(n,r);return(0,u.constructConformedString)(o)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(2),i=n(22),a=r(i),s=n(23),c=r(s),f=n(20),l=r(f)},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=(0,u.convertPatternToPlaceholder)(e),n=[],r=0;return t.split("").forEach(function(e){e===o.placeholderCharacter?r++:(n.push({length:r,delimiter:e,content:""}),r=0)}),r>0&&n.push({length:r,delimiter:"",content:""}),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(4),u=n(2)},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=[],r=(0,o.getDelimiters)(t),u="";return e.split("").forEach(function(e){-1===r.indexOf(e)?u+=e:u.length>0&&(n.push(u),u="")}),u.length>0&&n.push(u),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(2)},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=e.substr(0,t),r=e.substr(t,e.length),i=t-n.length;return{results:n+(0,o.printPadding)(u.placeholderCharacter,i),remainder:r}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(2),u=n(4)},function(e,t,n){e.exports={"default":n(28),__esModule:!0}},function(e,t,n){e.exports={"default":n(29),__esModule:!0}},function(e,t,n){"use strict";var r=n(26)["default"];t["default"]=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.__esModule=!0},function(e,t,n){n(51),n(49),e.exports=n(5).Array.from},function(e,t,n){n(50),e.exports=n(5).Object.assign},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(36);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(10),o=n(1)("toStringTag"),u="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[o])?n:u?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){e.exports=!n(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(10);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(9),o=n(1)("iterator"),u=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||u[o]===e)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(31);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(u){var i=e["return"];throw void 0!==i&&r(i.call(e)),u}}},function(e,t,n){"use strict";var r=n(3),o=n(15),u=n(16),i={};n(8)(i,n(1)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r.create(i,{next:o(1,n)}),u(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(41),o=n(6),u=n(43),i=n(8),a=n(14),s=n(9),c=n(38),f=n(16),l=n(3).getProto,d=n(1)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",g="keys",v="values",m=function(){return this};e.exports=function(e,t,n,y,x,b,w){c(n,t,y);var P,_,j=function(e){if(!p&&e in M)return M[e];switch(e){case g:return function(){return new n(this,e)};case v:return function(){return new n(this,e)}}return function(){return new n(this,e)}},O=t+" Iterator",C=x==v,S=!1,M=e.prototype,T=M[d]||M[h]||x&&M[x],k=T||j(x);if(T){var A=l(k.call(new e));f(A,O,!0),!r&&a(M,h)&&i(A,d,m),C&&T.name!==v&&(S=!0,k=function(){return T.call(this)})}if(r&&!w||!p&&!S&&M[d]||i(M,d,k),s[t]=k,s[O]=m,x)if(P={values:C?k:j(v),keys:b?k:j(g),entries:C?j("entries"):k},w)for(_ in P)_ in M||u(M,_,P[_]);else o(o.P+o.F*(p||S),t,P);return P}},function(e,t,n){var r=n(1)("iterator"),o=!1;try{var u=[7][r]();u["return"]=function(){o=!0},Array.from(u,function(){throw 2})}catch(i){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var u=[7],i=u[r]();i.next=function(){n=!0},u[r]=function(){return i},e(u)}catch(a){}return n}},function(e,t){e.exports=!0},function(e,t,n){var r=n(3),o=n(18),u=n(34);e.exports=n(13)(function(){var e=Object.assign,t={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=o})?function(e,t){for(var n=o(e),i=arguments,a=i.length,s=1,c=r.getKeys,f=r.getSymbols,l=r.isEnum;a>s;)for(var d,p=u(i[s++]),h=f?c(p).concat(f(p)):c(p),g=h.length,v=0;g>v;)l.call(p,d=h[v++])&&(n[d]=p[d]);return n}:Object.assign},function(e,t,n){e.exports=n(8)},function(e,t,n){var r=n(7),o="__core-js_shared__",u=r[o]||(r[o]={});e.exports=function(e){return u[e]||(u[e]={})}},function(e,t,n){var r=n(17),o=n(12);e.exports=function(e){return function(t,n){var u,i,a=String(o(t)),s=r(n),c=a.length;return 0>s||s>=c?e?"":void 0:(u=a.charCodeAt(s),55296>u||u>56319||s+1===c||(i=a.charCodeAt(s+1))<56320||i>57343?e?a.charAt(s):u:e?a.slice(s,s+2):(u-55296<<10)+(i-56320)+65536)}}},function(e,t,n){var r=n(17),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(32),o=n(1)("iterator"),u=n(9);e.exports=n(5).getIteratorMethod=function(e){return void 0!=e?e[o]||e["@@iterator"]||u[r(e)]:void 0}},function(e,t,n){"use strict";var r=n(11),o=n(6),u=n(18),i=n(37),a=n(35),s=n(46),c=n(48);o(o.S+o.F*!n(40)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,l=u(e),d="function"==typeof this?this:Array,p=arguments,h=p.length,g=h>1?p[1]:void 0,v=void 0!==g,m=0,y=c(l);if(v&&(g=r(g,h>2?p[2]:void 0,2)),void 0==y||d==Array&&a(y))for(t=s(l.length),n=new d(t);t>m;m++)n[m]=v?g(l[m],m):l[m];else for(f=y.call(l),n=new d;!(o=f.next()).done;m++)n[m]=v?i(f,g,[o.value,m],!0):o.value;return n.length=m,n}})},function(e,t,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(42)})},function(e,t,n){"use strict";var r=n(45)(!0);n(39)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r,o;!function(n,u){function i(e,t,n){if(Array.prototype.map)return Array.prototype.map.call(e,t,n);for(var r=new Array(e.length),o=0,u=e.length;u>o;o++)r[o]=t.call(n,e[o],o,e);return r}function a(e){return{newPos:e.newPos,components:e.components.slice(0)}}function s(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function c(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}function f(e,t,n){t=t||[],n=n||[];var r;for(r=0;r<t.length;r+=1)if(t[r]===e)return n[r];var o;if("[object Array]"===p.call(e)){for(t.push(e),o=new Array(e.length),n.push(o),r=0;r<e.length;r+=1)o[r]=f(e[r],t,n);t.pop(),n.pop()}else if("object"==typeof e&&null!==e){t.push(e),o={},n.push(o);var u,i=[];for(u in e)i.push(u);for(i.sort(),r=0;r<i.length;r+=1)u=i[r],o[u]=f(e[u],t,n);t.pop(),n.pop()}else o=e;return o}function l(e,t,n,r){for(var o=0,u=e.length,a=0,s=0;u>o;o++){var c=e[o];if(c.removed){if(c.value=n.slice(s,s+c.count).join(""),s+=c.count,o&&e[o-1].added){var f=e[o-1];e[o-1]=e[o],e[o]=f}}else{if(!c.added&&r){var l=t.slice(a,a+c.count);l=i(l,function(e,t){var r=n[s+t];return r.length>e.length?r:e}),c.value=l.join("")}else c.value=t.slice(a,a+c.count).join("");a+=c.count,c.added||(s+=c.count)}}return e}function d(e){this.ignoreWhitespace=e}var p=Object.prototype.toString;d.prototype={diff:function(e,t,n){function r(e){return n?(setTimeout(function(){n(u,e)},0),!0):e}function o(){for(var n=-1*f;f>=n;n+=2){var o,d=p[n-1],h=p[n+1],g=(h?h.newPos:0)-n;d&&(p[n-1]=u);var v=d&&d.newPos+1<s,m=h&&g>=0&&c>g;if(v||m){if(!v||m&&d.newPos<h.newPos?(o=a(h),i.pushComponent(o.components,u,!0)):(o=d,o.newPos++,i.pushComponent(o.components,!0,u)),g=i.extractCommon(o,t,e,n),o.newPos+1>=s&&g+1>=c)return r(l(o.components,t,e,i.useLongestToken));p[n]=o}else p[n]=u}f++}var i=this;if(t===e)return r([{value:t}]);if(!t)return r([{value:e,removed:!0}]);if(!e)return r([{value:t,added:!0}]);t=this.tokenize(t),e=this.tokenize(e);var s=t.length,c=e.length,f=1,d=s+c,p=[{newPos:-1,components:[]}],h=this.extractCommon(p[0],t,e,0);if(p[0].newPos+1>=s&&h+1>=c)return r([{value:t.join("")}]);if(n)!function v(){setTimeout(function(){return f>d?n():void(o()||v())},0)}();else for(;d>=f;){var g=o();if(g)return g}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var o=t.length,u=n.length,i=e.newPos,a=i-r,s=0;o>i+1&&u>a+1&&this.equals(t[i+1],n[a+1]);)i++,a++,s++;return s&&e.components.push({count:s}),e.newPos=i,a},equals:function(e,t){var n=/\S/;return e===t||this.ignoreWhitespace&&!n.test(e)&&!n.test(t)},tokenize:function(e){return e.split("")}};var h=new d,g=new d(!0),v=new d;g.tokenize=v.tokenize=function(e){return s(e.split(/(\s+|\b)/))};var m=new d(!0);m.tokenize=function(e){return s(e.split(/([{}:;,]|\s+)/))};var y=new d,x=new d;x.ignoreTrim=!0,y.tokenize=x.tokenize=function(e){for(var t=[],n=e.split(/^/m),r=0;r<n.length;r++){var o=n[r],u=n[r-1],i=u&&u[u.length-1];"\n"===o&&"\r"===i?t[t.length-1]=t[t.length-1].slice(0,-1)+"\r\n":(this.ignoreTrim&&(o=o.trim(),r<n.length-1&&(o+="\n")),t.push(o))}return t};var b=new d;b.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2?t[t.length-1]+=o:t.push(o)}return t};var w=new d;w.tokenize=function(e){return s(e.split(/(\S.+?[.!?])(?=\s+|$)/))};var P=new d;P.useLongestToken=!0,P.tokenize=y.tokenize,P.equals=function(e,t){return y.equals(e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var _={Diff:d,diffChars:function(e,t,n){return h.diff(e,t,n)},diffWords:function(e,t,n){return g.diff(e,t,n)},diffWordsWithSpace:function(e,t,n){return v.diff(e,t,n)},diffLines:function(e,t,n){return y.diff(e,t,n)},diffTrimmedLines:function(e,t,n){return x.diff(e,t,n)},diffSentences:function(e,t,n){return w.diff(e,t,n)},diffCss:function(e,t,n){return m.diff(e,t,n)},diffJson:function(e,t,n){return P.diff("string"==typeof e?e:JSON.stringify(f(e),u,"  "),"string"==typeof t?t:JSON.stringify(f(t),u,"  "),n)},createTwoFilesPatch:function(e,t,n,r,o,u){function a(e){return i(e,function(e){return" "+e})}function s(e,t,n){var r=f[f.length-2],o=t===f.length-2,u=t===f.length-3&&n.added!==r.added;/\n$/.test(n.value)||!o&&!u||e.push("\\ No newline at end of file")}var c=[];e==t&&c.push("Index: "+e),c.push("==================================================================="),c.push("--- "+e+("undefined"==typeof o?"":"	"+o)),c.push("+++ "+t+("undefined"==typeof u?"":"	"+u));var f=b.diff(n,r);f.push({value:"",lines:[]});for(var l=0,d=0,p=[],h=1,g=1,v=0;v<f.length;v++){var m=f[v],y=m.lines||m.value.replace(/\n$/,"").split("\n");if(m.lines=y,m.added||m.removed){if(!l){var x=f[v-1];l=h,d=g,x&&(p=a(x.lines.slice(-4)),l-=p.length,d-=p.length)}p.push.apply(p,i(y,function(e){return(m.added?"+":"-")+e})),s(p,v,m),m.added?g+=y.length:h+=y.length}else{if(l)if(y.length<=8&&v<f.length-2)p.push.apply(p,a(y));else{var w=Math.min(y.length,4);c.push("@@ -"+l+","+(h-l+w)+" +"+d+","+(g-d+w)+" @@"),c.push.apply(c,p),c.push.apply(c,a(y.slice(0,w))),y.length<=4&&s(c,v,m),l=0,d=0,p=[]}h+=y.length,g+=y.length}}return c.join("\n")+"\n"},createPatch:function(e,t,n,r,o){return _.createTwoFilesPatch(e,e,t,n,r,o)},applyPatch:function(e,t){for(var n=t.split("\n"),r=[],o=0,u=!1,i=!1;o<n.length&&!/^@@/.test(n[o]);)o++;for(;o<n.length;o++)if("@"===n[o][0]){var a=n[o].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:a[3],oldlength:+a[2],removed:[],newlength:a[4],added:[]})}else"+"===n[o][0]?r[0].added.push(n[o].substr(1)):"-"===n[o][0]?r[0].removed.push(n[o].substr(1)):" "===n[o][0]?(r[0].added.push(n[o].substr(1)),r[0].removed.push(n[o].substr(1))):"\\"===n[o][0]&&("+"===n[o-1][0]?u=!0:"-"===n[o-1][0]&&(i=!0));var s=e.split("\n");for(o=r.length-1;o>=0;o--){for(var c=r[o],f=0;f<c.oldlength;f++)if(s[c.start-1+f]!==c.removed[f])return!1;Array.prototype.splice.apply(s,[c.start-1,c.oldlength].concat(c.added))}if(u)for(;!s[s.length-1];)s.pop();else i&&s.push("");return s.join("\n")},convertChangesToXML:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(c(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){for(var t,n,r=[],o=0;o<e.length;o++)t=e[o],n=t.added?1:t.removed?-1:0,r.push([n,t.value]);return r},canonicalize:f};"undefined"!=typeof e&&e.exports?e.exports=_:(r=[],o=function(){return _}.apply(t,r),!(o!==u&&(e.exports=o)))}(this)}])});