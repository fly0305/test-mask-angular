!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/forms"],t):"object"==typeof exports?exports.angular2TextMask=t(require("@angular/core"),require("@angular/forms")):e.angular2TextMask=t(e.ng.core,e.ng.forms)}(this,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=r(6),i=r(7),s=r(5),u=function(){function e(e,t){this.ngControl=t,this.textMaskConfig={mask:"",guide:!0,placeholderChar:"_",pipe:void 0,keepCharPositions:!1,onReject:void 0,onAccept:void 0},this.inputElement=e.nativeElement}return e.prototype.ngOnInit=function(){var e=this;this.control=s["default"](Object.assign({inputElement:this.inputElement},this.textMaskConfig)),setTimeout(function(){return e.onInput()})},e.prototype.onInput=function(){this.control.update(),this.ngControl.viewToModelUpdate(this.inputElement.value)},n([o.Input("textMask"),a("design:type",Object)],e.prototype,"textMaskConfig",void 0),e=n([o.Directive({host:{"(input)":"onInput()"},selector:"input[textMask]"}),a("design:paramtypes",[o.ElementRef,i.NgControl])],e)}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u,t.Directive=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maskingCharactersEnums={numeric:"1",alphabetic:"A",alphanumeric:"?",uppercase:"U",lowercase:"L",any:"*"},t.maskingCharacters=["1","A","?","U","L","*"],t.placeholderChar="_"},function(e,t,r){"use strict";function n(){var e=arguments.length<=0||void 0===arguments[0]?d:arguments[0],t=arguments.length<=1||void 0===arguments[1]?f.placeholderChar:arguments[1];if(e.indexOf(t)!==-1)throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\n"+("The placeholder character that was received is: "+JSON.stringify(t)+"\n\n")+("The mask that was received is: "+JSON.stringify(e)));for(var r=!1,n=d,a=0;a<e.length;a++){var o=e[a];"\\"!==o||r===!0?r!==!0?n+=f.maskingCharacters.indexOf(o)!==-1?t:o:(r=!1,n+=o):(r=!0,n+=d)}return n}function a(){var e=arguments.length<=0||void 0===arguments[0]?d:arguments[0];return e.split(d)}function o(){var e=arguments.length<=0||void 0===arguments[0]?d:arguments[0],t=arguments[1];switch(t){case f.maskingCharactersEnums.numeric:return s(e);case f.maskingCharactersEnums.uppercase:case f.maskingCharactersEnums.lowercase:case f.maskingCharactersEnums.alphabetic:return u(e);case f.maskingCharactersEnums.alphanumeric:return s(e)||u(e);case f.maskingCharactersEnums.any:return h.test(e)===!1;default:return!1}}function i(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments[1];switch(t){case f.maskingCharactersEnums.uppercase:return e.toUpperCase();case f.maskingCharactersEnums.lowercase:return e.toLowerCase();default:return e}}function s(e){return!isNaN(e)&&h.test(e)!==!0}function u(e){return p.test(e)}function c(e){return"string"==typeof e||e instanceof String}function l(e){return e&&void 0===e.length&&!isNaN(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=n,t.tokenize=a,t.isAcceptableChar=o,t.potentiallyTransformChar=i,t.isString=c,t.isNumber=l;var f=r(1),d="",h=/\s/g,p=/^[a-zA-Z]+$/},function(e,t){"use strict";function r(e){var t=e.previousConformedValue,r=void 0===t?"":t,a=e.currentCaretPosition,o=void 0===a?0:a,i=e.conformedValue,s=e.rawValue,u=e.placeholderChar,c=e.placeholder,l=e.indexesOfPipedChars,f=void 0===l?n:l;if(0===o)return 0;var d=s.length,h=r.length,p=c.length,v=i.length,g=d-h,m=g>0,C=1===d,k=g>1&&!m&&!C;if(k)return o;var y=m&&(r===i||i===c),b=0;if(y?b=o-g:!function(){for(var e=i.toLowerCase(),t=s.toLowerCase(),r=t.substr(0,o).split(""),n=r.filter(function(t){return e.indexOf(t)!==-1}),a=n[n.length-1],u=f.map(function(t){return e[t]}),c=u.filter(function(e){return e===a}).length,l=n.filter(function(e){return e===a}).length,d=l+c,h=0,p=0;p<v;p++){var g=e[p];if(b=p+1,g===a&&h++,h>=d)break}}(),m){for(var x=b,P=b;P<=p;P++)if(c[P]===u&&(x=P),c[P]===u||P===p)return x}else for(var j=b;j>=0;j--)if(c[j-1]===u||0===j)return j}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var n=[]},function(e,t,r){"use strict";function n(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=r.guide,i=void 0===n||n,s=r.previousConformedValue,u=void 0===s?"":s,c=r.placeholderChar,l=void 0===c?o.placeholderChar:c,f=r.placeholder,d=void 0===f?(0,a.convertMaskToPlaceholder)(t,l):f,h=r.currentCaretPosition,p=r.keepCharPositions,v=i===!1&&void 0!==u,g=e.length,m=u.length,C=d.length,k=g-m,y=k>0,b=h+(y?-k:0),x=b+Math.abs(k);if(p===!0&&!y){for(var P="",j=b;j<x;j++)d[j]===l&&(P+=l);e=e.slice(0,b)+P+e.slice(b,g)}for(var w=t.replace(/\\./g," "),M=e.split("").map(function(e,t){return{"char":e,isNew:t>=b&&t<x}}),O=0,_=0;_<C;_++){var E=_>=b&&""!==u,T=(E?_+k:_)-O,V=M[T];void 0!==V&&d[_]===V["char"]&&V["char"]!==l&&(M.splice(T,1),O++)}var R="",N=!1;e:for(var S=0;S<C;S++){var A=d[S];if(A===l){if(M.length>0)for(;M.length>0;){var I=M.shift(),L=I["char"],q=I.isNew;if(L===l&&v!==!0){R+=l;continue e}if((0,a.isAcceptableChar)(L,w[S])){if(p===!0&&q!==!1&&""!==u&&i!==!1&&y){for(var U=M.length,D=null,J=0;J<U;J++){var z=M[J];if(z["char"]!==l&&z.isNew===!1)break;if(z["char"]===l){D=J;break}}null!==D?(R+=(0,a.potentiallyTransformChar)(L,w[S]),M.splice(D,1)):S--}else R+=(0,a.potentiallyTransformChar)(L,w[S]);continue e}N=!0}v===!1&&(R+=d.substr(S,C));break}R+=A}if(v&&y===!1){for(var Z=null,$=0;$<R.length;$++)d[$]===l&&(Z=$);R=null!==Z?R.substr(0,Z+1):""}return{conformedValue:R,meta:{someCharsRejected:N}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=r(2),o=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.inputElement,r=e.mask,n=e.guide,a=e.pipe,s=e.placeholderChar,c=void 0===s?d.placeholderChar:s,h=e.onAccept,p=e.onReject,v=e.keepCharPositions,g=void 0!==v&&v,m={previousConformedValue:""},C=void 0,k=void 0;return(0,f.isString)(r)&&(C=(0,f.convertMaskToPlaceholder)(r,c)),""===t.placeholder&&t.setAttribute("placeholder",C),{state:m,update:function(){var e=arguments.length<=0||void 0===arguments[0]?t.value:arguments[0];if(e!==m.previousConformedValue){var s=i(e);"function"==typeof r?(k=r(s),C=(0,f.convertMaskToPlaceholder)(k,c)):k=r;var d=t.selectionStart,v=m.previousConformedValue,y={previousConformedValue:v,guide:n,placeholderChar:c,pipe:a,placeholder:C,currentCaretPosition:d,keepCharPositions:g},b=(0,l["default"])(s,k,y),x=b.conformedValue,P=b.meta.someCharsRejected,j="function"==typeof a,w={};j&&(w=a(x,y),w===!1&&(w={value:v,rejected:!0}));var M=j?w.value:x,O=(0,u["default"])({previousConformedValue:v,conformedValue:M,placeholder:C,rawValue:s,currentCaretPosition:d,placeholderChar:c,indexesOfPipedChars:w.indexesOfPipedChars}),_=M===C&&0===O,E=_?"":M;t.value=E,o(t,O),m.previousConformedValue=E,"function"==typeof h&&E!==v&&h();var T=s.length<v.length;"function"==typeof p&&(P||w.rejected)&&T===!1&&p({conformedValue:M,pipeRejection:w.rejected,maskRejection:P})}}}}function o(e,t){document.activeElement===e&&e.setSelectionRange(t,t,"none")}function i(e){if((0,f.isString)(e))return e;if((0,f.isNumber)(e))return String(e);if(void 0===e||null===e)return"";throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s=r(3),u=n(s),c=r(4),l=n(c),f=r(2),d=r(1)},function(t,r){t.exports=e},function(e,r){e.exports=t}])});